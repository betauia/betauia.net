---
import DigitalRain from '@components/fun/digital_rain.astro';
const { backgroundImage } = Astro.props;
const { UseGamerFont = true } = Astro.props;
---

<div 
  class:list={[
    "betalan-layout", 
    UseGamerFont && "gamer-font", 
    !backgroundImage && "retro-crt-bg"
  ]} 
  style={backgroundImage ? `background-image: url('${backgroundImage}')` : ''}
>
  <slot />
</div>

{!backgroundImage && <DigitalRain />}

<style>
  .betalan-layout {
    @apply bg-cover bg-center bg-fixed min-h-screen;
    width: 100%;
    /* Ensure this layout doesn't interfere with header */
    position: relative;
    z-index: 0;
  }

  .gamer-font {
    font-family: "Jersey 10", monospace;
    font-weight: 400;
    font-style: normal;
    font-size: 2rem; /* text-lg equivalent */
    line-height: 1.75rem;
  }

  /* Only apply overlays when there's a background image */
  .betalan-layout:has([style*="background-image"])::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, transparent, rgba(0, 0, 0, 0.5));
    z-index: -1;
  }

  .betalan-layout:has([style*="background-image"])::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.3);
    z-index: -2;
  }
</style>

<!-- Gamer Font 🕹️ -->
<style>
@import url('https://fonts.googleapis.com/css2?family=Jersey+10&display=swap');
</style>