---
import NavBar from "@components/layout/header/NavBar.astro";
import Actions from "@components/layout/header/Actions.astro";
import MobileMenu from "@components/layout/header/MobileMenu.astro";
import DropdownPanel from "@components/layout/header/dropdown/DropdownPanel.astro";
import { navigationDropdowns } from "@components/layout/header/config";
---

<header
  class="fixed top-0 z-40 w-full border-fg-muted bg-bg-base shadow-md dark:border-dark-fg-muted dark:bg-dark-bg-raised"
>
  <div class="mx-auto flex h-16 max-w-6xl items-center justify-between px-4 md:px-6">
    <NavBar />
    <div class="flex items-center gap-4">
      <Actions />
      <MobileMenu />
    </div>
  </div>

  {navigationDropdowns.map(dropdown => <DropdownPanel id={dropdown.id} items={dropdown.items} />)}
</header>

<script>
  import { initThemeToggle } from "@components/layout/header/scripts/theme";
  import { initDropdowns } from "@components/layout/header/scripts/dropdown";
  import { initMobileMenu } from "@components/layout/header/scripts/mobile-menu";

  initThemeToggle();
  initDropdowns();
  initMobileMenu();
</script>
