---
import type { BannerProps } from "@lib/types/props";

const { text, link, buttonText = "Les mer!" } = Astro.props;
---

<div
  id="banner"
  class="fixed bottom-6 left-1/2 z-50 w-[90%] max-w-xl -translate-x-1/2 transform rounded-xl bg-brand px-6 py-4 text-white shadow-lg transition-all duration-500"
>
  <div class="flex items-center justify-between">
    <p class="flex items-center text-sm font-semibold sm:text-base">
      {text}
    </p>
    <a
      href={link}
      class="rounded-lg bg-white px-4 py-2 text-sm font-bold text-brand shadow transition hover:bg-gray-100"
    >
      {buttonText}
    </a>
  </div>
</div>

<script>
  const banner = document.getElementById("banner");
  let lastScrollY = 0;

  window.addEventListener("scroll", () => {
    if (!banner) return;
    if (window.scrollY > lastScrollY) {
      banner.style.transform = "translate(-50%, 150%)";
    } else {
      banner.style.transform = "translate(-50%, 0)";
    }
    lastScrollY = window.scrollY;
  });
</script>
