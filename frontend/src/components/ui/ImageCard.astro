---
import type { ImageMetadata } from "astro";

interface Props {
  image: ImageMetadata;
  title: string;
  description: string;
  href?: string;
  imageHeight?: string;
}

const { image, title, description, href, imageHeight = "h-48" } = Astro.props;

const CardWrapper = href ? "a" : "div";
const wrapperProps = href
  ? {
      href,
      class:
        "group block overflow-hidden rounded-xl border border-accent/50 bg-bg-raised dark:bg-dark-bg-raised transition-all duration-300  hover:border-accent dark:hover:border-accent/80",
    }
  : {
      class:
        "group overflow-hidden rounded-xl border border-fg-muted dark:border-dark-fg-muted bg-bg-raised dark:bg-dark-bg-raised transition-all duration-300  hover:border-accent dark:hover:border-accent/80",
    };
---

<CardWrapper {...wrapperProps}>
  <div class={`relative ${imageHeight} overflow-hidden`}>
    <img
      src={image.src}
      alt={title}
      class="h-full w-full object-cover transition-transform duration-500 ease-out group-hover:scale-[1.03]"
    />
  </div>

  <div class="p-6 transition-colors duration-300">
    <h3
      class="mb-2 text-xl font-semibold text-fg-base transition-colors duration-300 group-hover:text-accent dark:text-dark-fg-base"
    >
      {title}
    </h3>
    <p class="text-fg-muted dark:text-dark-fg-muted">
      {description}
    </p>
  </div>
</CardWrapper>
